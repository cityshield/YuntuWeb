<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>用户登录注册 - 盛世云图</title>
    <meta name="description" content="盛世云图用户登录注册页面，安全便捷的用户认证系统">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.yuntucv.com/auth.html">
    <meta property="og:title" content="用户登录注册 - 盛世云图">
    <meta property="og:description" content="安全便捷的用户认证系统">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="images/yuntu-logo.svg">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles/main.css?v=1.0.1">
    <link rel="stylesheet" href="styles/auth.css?v=1.0.1">
    
    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
</head>
<body>
    <!-- Header Placeholder -->
    <div id="header-placeholder"></div>

    <!-- Auth Section -->
    <section class="auth-section">
        <div class="container">
            <div class="auth-container" data-aos="fade-up" data-aos-duration="1000">
                <!-- Brand Section -->
                <div class="brand-section">
                    <div class="brand-content">
                        <div class="brand-logo">
                            <img src="images/yuntu-logo.svg" alt="盛世云图">
                            <h1>盛世云图</h1>
                        </div>
                        <div class="brand-description">
                            <h2>引领AI技术未来</h2>
                            <p>专注于为影视动漫行业提供高速GPU渲染云服务以及AI图像处理、视频增强、3D建模等创新技术解决方案。</p>
                        </div>
                        <div class="brand-features">
                            <div class="feature-item">
                                <div class="feature-icon">🚀</div>
                                <div class="feature-text">
                                    <h4>高速GPU渲染</h4>
                                    <p>专业影视动漫渲染服务</p>
                                </div>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon">🎨</div>
                                <div class="feature-text">
                                    <h4>AI图像处理</h4>
                                    <p>智能提升画质与分辨率</p>
                                </div>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon">🎬</div>
                                <div class="feature-text">
                                    <h4>3D建模动画</h4>
                                    <p>从图片到动画的AI转换</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Auth Forms Section -->
                <div class="auth-forms-section">
                    <!-- Auth Tabs -->
                    <div class="auth-tabs">
                        <button class="tab-btn active" data-tab="login">登录</button>
                        <button class="tab-btn" data-tab="register">注册</button>
                    </div>

                    <!-- Login Form -->
                    <div class="auth-form active" id="login-form">
                        <div class="form-header">
                            <h3>欢迎回来</h3>
                            <p>登录您的盛世云图账户</p>
                        </div>
                    
                    <form class="form" id="loginForm">
                        <div class="form-content">
                            <div class="form-group">
                                <label for="loginPhone">手机号</label>
                                <input type="tel" id="loginPhone" name="phone" placeholder="请输入手机号" required>
                                <div class="error-message" id="loginPhoneError"></div>
                            </div>

                            <div class="form-group">
                                <label for="loginPassword">密码</label>
                                <div class="password-input">
                                    <input type="password" id="loginPassword" name="password" placeholder="请输入密码" required>
                                    <button type="button" class="password-toggle" onclick="togglePassword('loginPassword')">
                                        <span class="eye-icon">👁️</span>
                                    </button>
                                </div>
                                <div class="error-message" id="loginPasswordError"></div>
                            </div>

                            <div class="form-group">
                                <label for="loginCaptcha">图形验证码</label>
                                <div class="captcha-container">
                                    <input type="text" id="loginCaptcha" name="captcha" placeholder="请输入验证码" required>
                                    <div class="captcha-image" id="loginCaptchaImage" onclick="refreshCaptcha('login')">
                                        <canvas id="loginCaptchaCanvas" width="80" height="30"></canvas>
                                        <div class="captcha-refresh">🔄</div>
                                    </div>
                                </div>
                                <div class="error-message" id="loginCaptchaError"></div>
                            </div>
                        </div>

                        <div class="form-footer">
                            <div class="form-options">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="rememberMe">
                                    <span class="checkmark"></span>
                                    记住我
                                </label>
                                <a href="#" class="forgot-password">忘记密码？</a>
                            </div>

                            <button type="submit" class="btn btn-primary btn-full">
                                <span class="btn-text">登录</span>
                                <span class="btn-loading" style="display: none;">登录中...</span>
                            </button>

                            <!-- 微信登录 -->
                            <div class="wechat-login-section">
                                <div class="divider">
                                    <span class="divider-text">或</span>
                                </div>
                                <button type="button" class="btn btn-wechat" onclick="showWechatLogin()">
                                    <span class="wechat-icon">💬</span>
                                    <span class="btn-text">微信扫码登录</span>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>

                    <!-- Register Form -->
                    <div class="auth-form" id="register-form">
                        <div class="form-header">
                            <h3>创建账户</h3>
                            <p>加入盛世云图，开启AI技术之旅</p>
                        </div>
                    
                    <form class="form" id="registerForm">
                        <div class="form-content">
                            <div class="form-group">
                                <label for="registerPhone">手机号</label>
                                <input type="tel" id="registerPhone" name="phone" placeholder="请输入手机号" required>
                                <div class="error-message" id="registerPhoneError"></div>
                            </div>

                            <div class="form-group">
                                <label for="smsCode">短信验证码</label>
                                <div class="sms-container">
                                    <input type="text" id="smsCode" name="smsCode" placeholder="请输入短信验证码" required>
                                    <button type="button" class="sms-btn" id="smsBtn" onclick="sendSmsCode()">
                                        <span class="sms-text">获取验证码</span>
                                        <span class="sms-countdown" style="display: none;">60s</span>
                                    </button>
                                </div>
                                <div class="error-message" id="smsCodeError"></div>
                            </div>

                            <div class="form-group">
                                <label for="registerPassword">密码</label>
                                <div class="password-input">
                                    <input type="password" id="registerPassword" name="password" placeholder="请设置密码" required>
                                    <button type="button" class="password-toggle" onclick="togglePassword('registerPassword')">
                                        <span class="eye-icon">👁️</span>
                                    </button>
                                </div>
                                <div class="password-strength" id="passwordStrength">
                                    <div class="strength-bar">
                                        <div class="strength-fill"></div>
                                    </div>
                                    <span class="strength-text">密码强度</span>
                                </div>
                                <div class="error-message" id="registerPasswordError"></div>
                            </div>

                            <div class="form-group">
                                <label for="confirmPassword">确认密码</label>
                                <div class="password-input">
                                    <input type="password" id="confirmPassword" name="confirmPassword" placeholder="请再次输入密码" required>
                                    <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword')">
                                        <span class="eye-icon">👁️</span>
                                    </button>
                                </div>
                                <div class="error-message" id="confirmPasswordError"></div>
                            </div>

                        </div>

                        <div class="form-footer">
                            <div class="form-options">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="agreeTerms" required>
                                    <span class="checkmark"></span>
                                    我已阅读并同意 <a href="#" class="terms-link">《用户协议》</a> 和 <a href="#" class="terms-link">《隐私政策》</a>
                                </label>
                            </div>

                            <button type="submit" class="btn btn-primary btn-full">
                                <span class="btn-text">注册</span>
                                <span class="btn-loading" style="display: none;">注册中...</span>
                            </button>
                        </div>
                    </form>
                </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer Placeholder -->
    <div id="footer-placeholder"></div>

    <!-- 微信登录弹窗 -->
    <div class="wechat-modal" id="wechatModal">
        <div class="wechat-modal-content">
            <div class="wechat-modal-header">
                <h3 id="wechatModalTitle">微信扫码登录</h3>
                <button class="wechat-modal-close" onclick="closeWechatLogin()">&times;</button>
            </div>
            <div class="wechat-modal-body">
                <!-- 二维码扫码界面 -->
                <div class="wechat-qr-container" id="wechatQRContainer">
                    <div class="wechat-qr-placeholder">
                        <div id="wechatQRCode" class="qr-code-wrapper">
                            <!-- 二维码将在这里显示 -->
                        </div>
                    </div>
                    <p class="wechat-tip">请使用微信扫描二维码登录</p>
                    <div class="wechat-status">
                        <span class="status-text" id="wechatStatusText">正在生成二维码...</span>
                    </div>
                </div>

                <!-- 绑定手机号界面 -->
                <div class="wechat-bind-phone-container" id="wechatBindPhoneContainer" style="display: none;">
                    <p class="bind-tip">首次使用微信登录，需要绑定手机号</p>
                    <form id="wechatBindPhoneForm">
                        <div class="form-group">
                            <label for="bindPhone">手机号</label>
                            <input type="tel" id="bindPhone" name="phone" placeholder="请输入手机号" required>
                            <div class="error-message" id="bindPhoneError"></div>
                        </div>

                        <div class="form-group">
                            <label for="bindSmsCode">短信验证码</label>
                            <div class="sms-container">
                                <input type="text" id="bindSmsCode" name="smsCode" placeholder="请输入短信验证码" required>
                                <button type="button" class="sms-btn" id="bindSmsBtn">
                                    <span class="sms-text">获取验证码</span>
                                    <span class="sms-countdown" style="display: none;">60s</span>
                                </button>
                            </div>
                            <div class="error-message" id="bindSmsCodeError"></div>
                        </div>

                        <button type="submit" class="btn btn-primary btn-full">
                            <span class="btn-text">绑定并登录</span>
                            <span class="btn-loading" style="display: none;">绑定中...</span>
                        </button>

                        <div class="bind-link-option">
                            <span>已有账号？</span>
                            <a href="#" id="showLinkAccountForm">关联已有账号</a>
                        </div>
                    </form>
                </div>

                <!-- 关联已有账号界面 -->
                <div class="wechat-link-account-container" id="wechatLinkAccountContainer" style="display: none;">
                    <p class="bind-tip">关联已有账号</p>
                    <form id="wechatLinkAccountForm">
                        <div class="form-group">
                            <label for="linkPhone">手机号</label>
                            <input type="tel" id="linkPhone" name="phone" placeholder="请输入手机号" required>
                            <div class="error-message" id="linkPhoneError"></div>
                        </div>

                        <div class="form-group">
                            <label for="linkPassword">密码</label>
                            <div class="password-input">
                                <input type="password" id="linkPassword" name="password" placeholder="请输入密码" required>
                                <button type="button" class="password-toggle" onclick="togglePassword('linkPassword')">
                                    <span class="eye-icon">👁️</span>
                                </button>
                            </div>
                            <div class="error-message" id="linkPasswordError"></div>
                        </div>

                        <button type="submit" class="btn btn-primary btn-full">
                            <span class="btn-text">关联并登录</span>
                            <span class="btn-loading" style="display: none;">关联中...</span>
                        </button>

                        <div class="bind-link-option">
                            <a href="#" id="showBindPhoneForm">返回绑定手机号</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs2@0.0.2/qrcode.min.js"></script>
    <script src="scripts/components.js"></script>
    <script src="scripts/main.js"></script>
    <script src="scripts/api-config.js"></script>
    <script src="scripts/wechat-login.js"></script>
    <script src="scripts/auth.js"></script>
</body>
</html>
