<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êñá‰ª∂ÁÆ°ÁêÜ - Áõõ‰∏ñ‰∫ëÂõæ</title>
    <meta name="description" content="Áõõ‰∏ñ‰∫ëÂõæÊñá‰ª∂ÁÆ°ÁêÜÁ≥ªÁªü - ËôöÊãüÁõòÁ¨¶ÁÆ°ÁêÜ">

    <!-- Favicon -->
    <link rel="icon" href="images/yuntu-logo.svg" type="image/svg+xml">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="styles/shadcn-base.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/files.css">
</head>
<body class="files-body">
    <!-- File Manager Container -->
    <div class="file-manager-container">
        <!-- Sidebar -->
        <aside class="file-sidebar" id="file-sidebar">
            <!-- Logo -->
            <div class="sidebar-logo">
                <img src="images/yuntu-logo.svg" alt="Áõõ‰∏ñ‰∫ëÂõæ" class="logo-img">
                <span class="logo-text">Áõõ‰∏ñ‰∫ëÂõæ</span>
            </div>

            <!-- User Card -->
            <div class="user-card">
                <div class="user-avatar" id="sidebar-user-avatar">
                    <span class="avatar-placeholder">üë§</span>
                </div>
                <div class="user-info">
                    <div class="user-name" id="sidebar-user-name">Âä†ËΩΩ‰∏≠...</div>
                    <div class="user-phone" id="sidebar-user-phone">---</div>
                </div>
            </div>

            <!-- Navigation Menu -->
            <nav class="sidebar-nav">
                <a href="console.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7" rx="1"/>
                        <rect x="14" y="3" width="7" height="7" rx="1"/>
                        <rect x="14" y="14" width="7" height="7" rx="1"/>
                        <rect x="3" y="14" width="7" height="7" rx="1"/>
                    </svg>
                    <span>ÊéßÂà∂Âè∞</span>
                </a>
                <a href="#files" class="nav-item active">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
                    </svg>
                    <span>Êñá‰ª∂ÁÆ°ÁêÜ</span>
                </a>
                <a href="aisr.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    <span>AIË∂ÖÂàÜËæ®Áéá</span>
                </a>
                <a href="account-settings.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12 1v6m0 6v6m9-9h-6m-6 0H3m15.364 6.364l-4.243-4.243m-6.364 0l-4.243 4.243m12.728 0l-4.243-4.243m-6.364 0L3.636 17.636"/>
                    </svg>
                    <span>Ë¥¶Êà∑ËÆæÁΩÆ</span>
                </a>
            </nav>

            <!-- Virtual Drives Section -->
            <div class="drives-section">
                <div class="drives-header">
                    <h3>ÊàëÁöÑÁõòÁ¨¶</h3>
                    <button class="btn-icon" id="btn-add-drive" title="ÂàõÂª∫ÁõòÁ¨¶">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 4v16m8-8H4"/>
                        </svg>
                    </button>
                </div>
                <div class="drives-list" id="drives-list">
                    <div class="loading-placeholder">
                        <div class="spinner"></div>
                        <span>Âä†ËΩΩ‰∏≠...</span>
                    </div>
                </div>
            </div>

            <!-- Sidebar Footer -->
            <div class="sidebar-footer">
                <button class="logout-btn" id="logout-btn">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4m7 14l5-5-5-5m5 5H9"/>
                    </svg>
                    <span>ÈÄÄÂá∫ÁôªÂΩï</span>
                </button>
                <button id="files-theme-toggle" class="btn-icon" aria-label="ÂàáÊç¢‰∏ªÈ¢ò" title="ÂàáÊç¢‰∏ªÈ¢ò" style="margin-top: 8px; width: 100%;">
                    <svg class="theme-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
                        <path d="M12 3v18" stroke="currentColor" stroke-width="2"/>
                        <path d="M12 3a9 9 0 0 1 0 18" stroke="currentColor" stroke-width="2" fill="none"/>
                    </svg>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="file-main">
            <!-- Top Bar -->
            <header class="file-header">
                <button class="sidebar-toggle" id="sidebar-toggle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>

                <!-- Breadcrumb Navigation -->
                <nav class="breadcrumb" id="breadcrumb">
                    <span class="breadcrumb-item">Êñá‰ª∂ÁÆ°ÁêÜ</span>
                </nav>

                <!-- Toolbar -->
                <div class="file-toolbar">
                    <button class="toolbar-btn" id="btn-new-folder" title="Êñ∞Âª∫Êñá‰ª∂Â§π">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
                            <path d="M12 11v6m-3-3h6"/>
                        </svg>
                    </button>
                    <button class="toolbar-btn" id="btn-upload-file" title="‰∏ä‰º†Êñá‰ª∂">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4m14-7l-5-5-5 5m5-5v12"/>
                        </svg>
                    </button>
                    <button class="toolbar-btn" id="btn-download" title="‰∏ãËΩΩ" disabled>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4m4-5l5 5 5-5m-5 5V3"/>
                        </svg>
                    </button>
                    <button class="toolbar-btn" id="btn-delete" title="Âà†Èô§" disabled>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 6h18m-2 0v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/>
                        </svg>
                    </button>
                    <button class="toolbar-btn" id="btn-rename" title="ÈáçÂëΩÂêç" disabled>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/>
                            <path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/>
                        </svg>
                    </button>
                    <div class="toolbar-divider"></div>
                    <button class="toolbar-btn" id="btn-view-grid" title="ÁΩëÊ†ºËßÜÂõæ">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7"/>
                            <rect x="14" y="3" width="7" height="7"/>
                            <rect x="14" y="14" width="7" height="7"/>
                            <rect x="3" y="14" width="7" height="7"/>
                        </svg>
                    </button>
                    <button class="toolbar-btn active" id="btn-view-list" title="ÂàóË°®ËßÜÂõæ">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="8" y1="6" x2="21" y2="6"/>
                            <line x1="8" y1="12" x2="21" y2="12"/>
                            <line x1="8" y1="18" x2="21" y2="18"/>
                            <line x1="3" y1="6" x2="3.01" y2="6"/>
                            <line x1="3" y1="12" x2="3.01" y2="12"/>
                            <line x1="3" y1="18" x2="3.01" y2="18"/>
                        </svg>
                    </button>
                    <div class="toolbar-divider"></div>
                    <button class="toolbar-btn" id="btn-refresh" title="Âà∑Êñ∞">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M1 4v6h6M23 20v-6h-6"/>
                            <path d="M20.49 9A9 9 0 005.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 013.51 15"/>
                        </svg>
                    </button>
                </div>

                <!-- Search -->
                <div class="search-box">
                    <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/>
                        <path d="m21 21-4.35-4.35"/>
                    </svg>
                    <input type="text" id="search-input" placeholder="ÊêúÁ¥¢Êñá‰ª∂..." />
                </div>
            </header>

            <!-- Content Area -->
            <div class="file-content">
                <!-- Folder Tree (Left Panel) -->
                <div class="folder-tree-panel" id="folder-tree-panel">
                    <div class="tree-header">
                        <h3>Êñá‰ª∂Â§π</h3>
                        <button class="btn-icon btn-collapse" id="btn-collapse-tree" title="ÊäòÂè†">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M15 18l-6-6 6-6"/>
                            </svg>
                        </button>
                    </div>
                    <div class="folder-tree" id="folder-tree">
                        <div class="loading-placeholder">
                            <div class="spinner"></div>
                            <span>Âä†ËΩΩ‰∏≠...</span>
                        </div>
                    </div>
                </div>

                <!-- File List (Right Panel) -->
                <div class="file-list-panel">
                    <!-- Empty State -->
                    <div class="empty-state" id="empty-state">
                        <svg class="empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
                        </svg>
                        <h3>ËØ∑ÈÄâÊã©‰∏Ä‰∏™ÁõòÁ¨¶ÊàñÊñá‰ª∂Â§π</h3>
                        <p>‰ªéÂ∑¶‰æßÈÄâÊã©‰∏Ä‰∏™ÁõòÁ¨¶ÂºÄÂßãÊµèËßàÊñá‰ª∂</p>
                    </div>

                    <!-- File List -->
                    <div class="file-list view-list" id="file-list" style="display: none;">
                        <!-- Files will be dynamically inserted here -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Context Menu -->
    <div class="context-menu" id="context-menu" style="display: none;">
        <div class="context-menu-item" data-action="open">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/>
                <polyline points="15 3 21 3 21 9"/>
                <line x1="10" y1="14" x2="21" y2="3"/>
            </svg>
            <span>ÊâìÂºÄ</span>
        </div>
        <div class="context-menu-item" data-action="download">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4m4-5l5 5 5-5m-5 5V3"/>
            </svg>
            <span>‰∏ãËΩΩ</span>
        </div>
        <div class="context-menu-item" data-action="rename">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/>
                <path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/>
            </svg>
            <span>ÈáçÂëΩÂêç</span>
        </div>
        <div class="context-menu-item" data-action="move">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
            </svg>
            <span>ÁßªÂä®Âà∞...</span>
        </div>
        <div class="context-menu-item" data-action="copy">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
            </svg>
            <span>Â§çÂà∂Âà∞...</span>
        </div>
        <div class="context-menu-divider"></div>
        <div class="context-menu-item" data-action="share">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="18" cy="5" r="3"/>
                <circle cx="6" cy="12" r="3"/>
                <circle cx="18" cy="19" r="3"/>
                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
            </svg>
            <span>ÂàÜ‰∫´</span>
        </div>
        <div class="context-menu-item" data-action="preview">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
            </svg>
            <span>È¢ÑËßà</span>
        </div>
        <div class="context-menu-divider"></div>
        <div class="context-menu-item context-menu-item-danger" data-action="delete">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 6h18m-2 0v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/>
            </svg>
            <span>Âà†Èô§</span>
        </div>
        <div class="context-menu-divider"></div>
        <div class="context-menu-item" data-action="properties">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="16" x2="12" y2="12"/>
                <line x1="12" y1="8" x2="12.01" y2="8"/>
            </svg>
            <span>Â±ûÊÄß</span>
        </div>
    </div>

    <!-- File Preview Modal -->
    <div class="modal" id="preview-modal">
        <div class="modal-overlay" id="preview-overlay"></div>
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2 class="modal-title" id="preview-title">Êñá‰ª∂È¢ÑËßà</h2>
                <button class="modal-close" id="preview-close">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body" id="preview-body">
                <!-- Preview content will be dynamically inserted -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="btn-preview-close">ÂÖ≥Èó≠</button>
                <button class="btn btn-primary" id="btn-preview-download">‰∏ãËΩΩ</button>
            </div>
        </div>
    </div>

    <!-- File Upload Input (Hidden) -->
    <input type="file" id="file-upload-input" multiple style="display: none;">

    <!-- Scripts -->
    <script src="scripts/theme-toggle.js"></script>
    <script src="scripts/api-config.js"></script>
    <script src="scripts/file-manager.js"></script>
</body>
</html>
