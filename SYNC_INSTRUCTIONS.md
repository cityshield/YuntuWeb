# 盛世云图网站 - 同步到阿里云服务器指南

## 📋 概述

本文档提供了将本地修改同步到阿里云服务器的多种方法。我们提供了三个不同的同步脚本，适用于不同的使用场景。

## 🚀 快速开始

### 方法1: 快速同步（推荐新手）

```bash
./quick-sync.sh
```

**特点:**
- 简单易用，一键同步
- 自动排除不必要的文件
- 显示同步进度
- 适合日常开发使用

### 方法2: 完整同步（推荐生产环境）

```bash
./sync-to-server.sh
```

**特点:**
- 完整的错误检查
- 详细的同步统计
- 交互式确认
- 自动检查SSH连接
- 适合重要更新

### 方法3: 精确同步（推荐修改特定文件）

```bash
./sync-modified-files.sh
```

**特点:**
- 只同步指定的文件
- 避免同步不必要的文件
- 更快的同步速度
- 适合小范围修改

## 🔧 服务器配置

- **服务器地址**: 59.110.51.85
- **SSH端口**: 777
- **用户名**: root
- **目标目录**: /var/www/yuntucv_web
- **域名**: www.yuntucv.com

## 📁 同步的文件类型

### 主要文件
- HTML页面文件 (*.html)
- CSS样式文件 (*.css)
- JavaScript脚本 (*.js)
- Python后端文件 (*.py)
- 配置文件 (*.txt, *.md, *.sh)

### 资源文件
- 图片文件 (*.png, *.jpg, *.svg, *.gif, *.ico)
- 图标文件 (images/icons/)
- 组件文件 (components/)

### 排除的文件
- node_modules/
- .git/
- .vite/
- 日志文件 (*.log)
- 临时文件 (*.tmp)
- 系统文件 (.DS_Store)

## 🛠️ 使用步骤

### 1. 检查SSH连接

```bash
ssh -p 777 root@59.110.51.85
```

### 2. 执行同步

选择适合的同步脚本：

```bash
# 快速同步
./quick-sync.sh

# 或者完整同步
./sync-to-server.sh

# 或者精确同步
./sync-modified-files.sh
```

### 3. 重启服务（如需要）

```bash
ssh -p 777 root@59.110.51.85
cd /var/www/yuntucv_web
./deploy-simple.sh
```

## 🔍 故障排除

### SSH连接问题

如果遇到SSH连接问题，请检查：

1. **服务器状态**
   ```bash
   ping 59.110.51.85
   ```

2. **端口连通性**
   ```bash
   telnet 59.110.51.85 777
   ```

3. **安全组设置**
   - 确保阿里云安全组开放了777端口
   - 检查SSH服务是否运行

### 权限问题

如果遇到权限问题：

```bash
# 检查文件权限
ls -la sync-*.sh

# 添加执行权限
chmod +x sync-*.sh
```

### 同步失败

如果同步失败：

1. 检查网络连接
2. 确认服务器磁盘空间
3. 检查目标目录权限
4. 查看详细错误信息

## 📊 同步统计

同步完成后，脚本会显示：

- 同步时间
- 耗时统计
- 文件数量
- 访问地址

## 🌐 访问地址

同步完成后，可以通过以下地址访问：

- **IP访问**: http://59.110.51.85
- **域名访问**: http://www.yuntucv.com
- **AISR功能**: http://www.yuntucv.com/aisr.html
- **登录页面**: http://www.yuntucv.com/auth.html

## 📝 注意事项

1. **备份重要数据**: 同步前建议备份服务器上的重要数据
2. **测试环境**: 建议先在测试环境验证修改
3. **版本控制**: 保持本地代码的版本控制
4. **监控日志**: 同步后检查服务器日志

## 🔄 自动化建议

可以将同步脚本添加到开发工作流中：

```bash
# 在package.json中添加脚本
{
  "scripts": {
    "deploy": "./quick-sync.sh",
    "deploy-full": "./sync-to-server.sh"
  }
}
```

## 📞 技术支持

如果遇到问题，请检查：

1. 服务器连接状态
2. 文件权限设置
3. 网络连接质量
4. 服务器资源使用情况

---

**最后更新**: 2025年1月13日
**版本**: 1.0.0


